(this.webpackJsonpdrabble=this.webpackJsonpdrabble||[]).push([[0],{35:function(e,t,n){e.exports=n(72)},6:function(e,t){e.exports={GLOBAL_CHAT:"GLOBAL_CHAT",USER_CONNECTED:"USER_CONNECTED",MESSAGE_RECIEVED:"MESSAGE_RECIEVED",MESSAGE_SENT:"MESSAGE_SENT",USER_DISCONNECTED:"USER_DISCONNECTED",TYPING:"TYPING",VERIFY_USER:"VERIFY_USER",LOGOUT:"LOGOUT",LINEDRAWN:"LINEDRAWN"}},68:function(e,t){},71:function(e,t){e.exports=[{name:"white",hex:"#FFFFFF"},{name:"silver",hex:"#C0C0C0"},{name:"gray",hex:"#808080"},{name:"black",hex:"#000000"},{name:"red",hex:"#FF0000"},{name:"maroon",hex:"#800000"},{name:"yellow",hex:"#FFFF00"},{name:"olive",hex:"#808000"},{name:"lime",hex:"#00FF00"},{name:"green",hex:"#008000"},{name:"aqua",hex:"#00FFFF"},{name:"teal",hex:"#008080"},{name:"blue",hex:"#0000FF"},{name:"navy",hex:"#000080"},{name:"fuchsia",hex:"#FF00FF"},{name:"purple",hex:"#800080"}]},72:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(33),o=n.n(r),i=n(1),c=n(2),l=n(4),u=n(3),h=n(34),m=n.n(h),d=n(6),v=n(5),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={username:"",error:""},a.handleChange=a.handleChange.bind(Object(v.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a.setUser=a.setUser.bind(Object(v.a)(a)),a}return Object(c.a)(n,[{key:"setUser",value:function(e){var t=e.user;e.isUser?this.setError("Username is taken."):this.props.setUser(t)}},{key:"setError",value:function(e){this.setState({error:e}),console.log(e)}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({username:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.socket.emit(d.VERIFY_USER,this.state.username,this.setUser),console.log(d.VERIFY_USER,this.state.username)}},{key:"render",value:function(){return s.a.createElement("div",{className:"loginForm"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{className:"loginText"},"Enter Username"),s.a.createElement("input",{type:"text",value:this.state.username,placeholder:"Username",onChange:this.handleChange,className:"loginUser"}),s.a.createElement("input",{type:"submit",value:"Login",className:"loginSubmit"})))}}]),n}(a.Component),E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={message:""},a.handleChange=a.handleChange.bind(Object(v.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({message:t})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.message;""!==t&&(this.props.sendMessage(t),this.setState({message:""})),this.input.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"messageInput",type:"text",value:this.state.message,placeholder:"Type here to chat!",onChange:this.handleChange,ref:function(t){return e.input=t}}),s.a.createElement("input",{type:"submit",value:"Send",className:"messageSend"})))}}]),n}(a.Component),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.message.includes("@"+this.props.user.name);return s.a.createElement("div",{style:{backgroundColor:e?"rgb(25, 9, 42)":"none"}},s.a.createElement("span",{className:"username"},this.props.sender.name),s.a.createElement("span",{className:"message"},": "+this.props.message))}}]),n}(a.Component),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"serverMessage"},this.props.message)}}]),n}(a.Component),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={chatMessages:[]},a.sendMessage=a.sendMessage.bind(Object(v.a)(a)),a.addMessage=a.addMessage.bind(Object(v.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addMessage()}},{key:"componentDidUpdate",value:function(){this.autoScr()}},{key:"sendMessage",value:function(e){var t=this.props.socket,n=this.props.user;t.emit(d.MESSAGE_SENT,e,n)}},{key:"addMessage",value:function(){var e=this;this.props.socket.on(d.MESSAGE_RECIEVED,(function(t){var n=e.state.chatMessages;n.push(t),e.setState({chatMessages:n})}))}},{key:"autoScr",value:function(){this.messageBox.scrollTop=this.messageBox.scrollHeight}},{key:"render",value:function(){var e=this,t=this.state.chatMessages.map((function(t){return"server"===t.sender.name?s.a.createElement(b,{key:t.id,message:t.message}):s.a.createElement(f,{key:t.id,message:t.message,sender:t.sender,user:e.props.user})}));return s.a.createElement("div",null,s.a.createElement(E,{chat:this.state,sendMessage:this.sendMessage}),s.a.createElement("div",{className:"messageBox",ref:function(t){return e.messageBox=t}},t))}}]),n}(a.Component),C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"navBar"})}}]),n}(a.Component),k=n(71),O=[2,5,10,15],S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=k.map((function(t){return s.a.createElement("div",{key:t.name,className:"colorBox",style:{backgroundColor:t.hex},onClick:function(){return e.props.setPenColor(t.hex)}})})),n=O.map((function(t){return s.a.createElement("span",{className:"outerDot",onClick:function(){return e.props.setLineWidth(t)}},s.a.createElement("span",{className:"innerDot",style:{width:t,height:t},key:t}))}));return s.a.createElement("div",{className:"toolBar"},s.a.createElement("div",{className:"currentColor",style:{backgroundColor:this.props.penColor}}),s.a.createElement("div",{className:"colorGrid"},t),n,s.a.createElement("div",{className:"colorClear",onClick:this.props.clearCanvas},"Clear"))}}]),n}(a.Component),y=n(6).LINEDRAWN,j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).resizeCanvas=function(){var e=a.d.offsetWidth,t=a.d.offsetHeight;a.canvas.width=e,a.canvas.height=t,a.canvas.style.width=e+"px",a.canvas.style.height=t+"px"},a.drawLine=function(e){var t=a.ctx,n=a.canvas.width,s=a.canvas.height,r=e.x1*n,o=e.y1*s,i=e.x2*n,c=e.y2*s;t.beginPath(),t.moveTo(r,o),t.lineTo(i,c),t.lineCap="round",t.strokeStyle=e.penColor,t.lineWidth=e.lineWidth,t.stroke(),t.closePath()},a.handleDraw=function(){var e=a.props.socket,t=a.canvas.width,n=a.canvas.height,s={x1:a.startX/t,y1:a.startY/n,x2:a.currentX/t,y2:a.currentY/n,penColor:a.state.penColor,lineWidth:a.state.lineWidth};a.startX=a.currentX,a.startY=a.currentY,e.emit(y,s)},a.trackMouse=function(e){a.currentX=e.nativeEvent.offsetX,a.currentY=e.nativeEvent.offsetY},a.startTrackMouse=function(e){0===e.button&&(a.startX=a.currentX,a.startY=a.currentY,a.drawing=setInterval(a.handleDraw,20))},a.stopTrackMouse=function(){clearInterval(a.drawing)},a.setPenColor=function(e){console.log(e),a.setState({penColor:e})},a.setLineWidth=function(e){a.setState({lineWidth:e})},a.clearCanvas=function(){a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height)},a.state={penColor:"#000000",lineWidth:2},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d");var e=this.d.offsetWidth,t=this.d.offsetHeight;this.canvas.width=e,this.canvas.height=t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.props.socket.on(y,this.drawLine),window.addEventListener("resize",this.resizeCanvas,!1)}},{key:"render",value:function(){var e=this,t=this.state.penColor;return s.a.createElement("div",null,s.a.createElement("div",{className:"whiteBoard",ref:function(t){return e.d=t}},s.a.createElement("canvas",{ref:function(t){return e.canvas=t},onMouseDown:this.startTrackMouse,onMouseLeave:this.stopTrackMouse,onMouseUp:this.stopTrackMouse,onMouseMove:this.trackMouse,onContextMenu:function(e){e.preventDefault()}}," ")),s.a.createElement(S,{penColor:t,setPenColor:this.setPenColor,setLineWidth:this.setLineWidth,clearCanvas:this.clearCanvas}))}}]),n}(a.Component),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).disconnect=function(){var e=a.state.socket;null!==a.state.user&&e.emit(d.USER_DISCONNECTED,a.state.user)},a.initSocket=function(){var e=m()("/");e.on("connect",(function(){console.log("Connected")})),a.setState({socket:e})},a.setUser=function(e){a.state.socket.emit(d.USER_CONNECTED,e),console.log(d.USER_CONNECTED),a.setState({user:e})},a.state={socket:null,user:null},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.initSocket(),window.onbeforeunload=this.disconnect}},{key:"render",value:function(){var e=this.state.user,t=this.state.socket;return s.a.createElement("div",null,s.a.createElement(C,null),e?s.a.createElement("div",null,s.a.createElement(j,{socket:t}),s.a.createElement(g,{socket:t,user:e})):s.a.createElement(p,{socket:t,setUser:this.setUser}))}}]),n}(a.Component),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement(N,{title:"Chat App Title"})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.24f6bf16.chunk.js.map